# YandexMusicRichPresence


**Discord RPC для показа музыки которую вы сейчас слушаете в десктопном приложении Яндекс музыка.
Загрузка треков и информации о них происходит через API яндекс музыки.**

![plot](/static/md/discord.png)

Приложение представляет из себя API и asar архив с измененными скриптами(для отслеживания запуска и паузы музыки)

## Требования
Работа проверена Windows 10, на других версиях и платформах работать скорее всего будет(у самой API нет требования к платформе).

Если вы не будете использовать ехе файл то:
1. Python >=3.12

## Как скачать и использовать Exe?
1. Скачайте последний релиз
2. распакуйте архив
3. замените resources/app.asar(находится в папке с приложением Яндекс музыки) на app.asar из архива
4. перенесите папку "discord" в папку с Яндекс музыкой
(Приложение будет само запускаться и выключаться при запуске и выключении Яндекс музыки)

## Как использовать без exe?

1. pip install poetry.
2. poetry install
3. python main.py
4. создайте папку "discord"
5. в папке "discord" создайте папку "config"
6. в папке "config" создайте "settings.json" с ключами "host"(str), "port"(int)

>Чтобы скомпилировать скрипт с помощью [Nuitka](https://pypi.org/project/nuitka/), выполните данную команду:  
`nuitka --standalone --windows-icon-from-ico=static\icon\icon.ico main.py`


## TODO
1. Добавить активности для плейлистов и тд(на подобии простаивания)
2. иногда после паузы идет не верный расчет оставшегося времени
   

